<!DOCTYPE html>
<html lang="ko">

<head>
    <meta name="theme-color" content="#242425" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="로또롱또똣">
    <title>로또롱또똣</title>
    <link rel="icon" sizes="192x192" href="/icon.png" />
    <link rel="apple-touch-icon" href="/icon.png">
    <meta name="msapplication-TileImage" content="icon.png">
    <meta name="msapplication-TileColor" content="#2F3BA2">
    <link rel="manifest" href="/manifest.json">
    <style>
        .loader_wrap {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            background-color: rgba(24, 24, 25, 0.9);
            z-index: 999;
            display: -webkit-flex;
            display: flex;
            -webkit-align-items: center;
            align-items: center;
            -webkit-justify-content: center;
            justify-content: center;
        }

        .loader_wrap>div {
            width: 100%;
            display: -webkit-flex;
            display: flex;
            -webkit-align-items: center;
            align-items: center;
            -webkit-justify-content: center;
            justify-content: center;
            flex-direction: column;
        }

        .loader_wrap>div>p {
            text-align: center;
            font-size: 20px;
            font-family: 'chosun_ilbo_myungjo';
            line-height: 26px;
        }
    </style>
    <link href="/css/base.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="//code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript">
        $(window).load(function () {
            $(".loader_wrap").fadeOut("3000");
            setTimeout(function () {
                $(".loader_wrap").remove();
            }, 2000);
            var splashCopy = '';
            var letters = ['1등은 예기치 않게<br>찾아옵니다.', '정말 예상 가능하다고<br>생각하시나요?',
                '1,2,3,4,5,6과 당신이 고른번호<br>당첨확률은 같습니다.', '로또는<br>운 입니다.', '약 815만분의 1.<br>확률은 모두 동일합니다.',
                '로또하기<br>딱 좋은 기분', '오늘은 왠지<br>느낌이 좋다.', '자주사는 번호는<br>꼭 등록해 주세요.', '당첨은<br>생일과 상관 없습니다.',
                '자동이 아니라면<br>언제 사든 똑같습니다.', '자동이 아니라면<br>어디서 사든 똑같습니다.', '주변 사람들에게<br>추천하기♥',
                '매주한번 돌아오는<br>기부의 시간', '로또롱또똣<br>별 뜻은 없습니다.', '과학적 근거<br>그런건 없습니다.'
            ];
            splashCopy += letters[Math.floor(Math.random() * letters.length)];
            document.getElementById('splash_copy').innerHTML = splashCopy;
        });
    </script>

    <script src="/js/instascan.min.js"></script>
</head>

<body>
    <div class="loader_wrap">
        <div>
            <p id="splash_copy" style="color:#fff;"></p>
        </div>
    </div>
    <div id="header">
        <div class="logo_area">
            <a href="/"></a>
        </div>
        <div class="go_mylotto"></div>
    </div>
    <div class="menu_btn_m">
        <i></i>
        <i></i>
        <i></i>
    </div>
    <div class="page_cover" onclick="history.back();"></div>
    <div class="layer_cover" onclick="history.back();"></div>
    <div class="menu">
        <div>
            <p>약 814만분의 1.
                <br>모두의 확률은 같다.
                <br>하지만 오늘은,
                <br>왠지 느낌이 좋다.</p>
            <h2>로또
                <br>롱또똣</h2>
        </div>
        <ul class="gnb">
            <li>
                <a href="/">홈</a>
            </li>
            <li>
                <a href="/manage/buynum/list.html">내 로또</a>
            </li>
            <li>
                <a href="/manage/mynum/list.html">자주 쓰는 조합</a>
            </li>
            <li>
                <a href="/picker/picker.html">랜덤 번호 뽑기</a>
            </li>
            <li>
                <a href="naversearchapp://search?qmenu=qrcode&version=1">QR 당첨확인</a>
            </li>
            <li>
                <a href="/prize/list.html">회차별 당첨번호</a>
            </li>
            <li>
                <a href="/board/list.html">익명 게시판</a>
            </li>
        </ul>
        <ul class="gnb_sub">
            <li>
                <a href="#">로그인</a>
            </li>
            <!-- <li><a href="#">로그아웃</a></li> -->
        </ul>
    </div>
    <div id="content">
        <div class="container">
            <input type="text" id="url" />
            <div id="qrdata"></div>
            <video id="preview" style="width:200px; height:200px"></video>
            <script type="text/javascript">
                let scanner = new Instascan.Scanner({
                    video: document.getElementById('preview')
                });
                scanner.addListener('scan', function (content) {












                    document.getElementById('url').value = content;

                    var qrTextData = $('#url').val();
                    var replaceText = qrTextData.replace("http://m.dhlottory.co.kr/?v=", "").replace("http://qr.645lotto.net/?v=", "").replace(/a|b|c|d|e|f|g|h|i|j|k|l|n|o|p|q|r|s|t|u|v|w|x|y|z/gi, "m"); 
                    var qs = replaceText
                    var round = 0;
                    var lotto_number = [];
                    var lot_numbers = qs.split('m')
                    console.log(qrTextData);
                    console.log(replaceText);
                    lot_numbers.map((num, idx) => {
                        if (idx === 0) {
                            round = num.substring(1) + "회차에 구매하신 번호2"
                        } else {
                            var lot_num = [];
                            for (var i = 0; i < 12; i = i + 2) {
                                lot_num.push(num.substring(i, 2 + i))
                                console.log(i, num.substring(i, 2 + i));
                            }
                            lotto_number.push(lot_num)
                        }
                    })
                    $('#qrdata').append('<div>' +qrTextData +replaceText +qs +lotto_number +lot_numbers +'</div>')
                    console.log(lotto_number)

                    $('.qrdata_inner').remove();
                    $('#qrdata').append('<div class="qrdata_inner"></div>')
                    $('.qrdata_inner').append('<h6>' + round + '</h6>')
                    $.each(lotto_number, function (index, value) {
                        var combClass = 'comb' + index
                        $('.qrdata_inner').append('<ul class="' + combClass + '"></ul>');
                        $.each(value, function (index, value) {
                            $('.' + combClass).append('<li class="mynum_item"><div><span>' + value + '</span></div></li>');
                        });
                        $('.' + combClass).append('<input type="checkbox" id="' + combClass + '" name="' + combClass + '"class="qr_item_check" checked />');
                        $('.' + combClass).append('<label for="' + combClass + '"></label>');
                    });
                    $('.mynum_item').each(function () {
                        var numResult = parseInt($(this).find('span').html());
                        if (numResult >= 1 && numResult <= 9) {
                            $(this).addClass('yellow');
                        } else if (numResult >= 10 && numResult <= 19) {
                            $(this).addClass('blue');
                        } else if (numResult >= 20 && numResult <= 29) {
                            $(this).addClass('red');
                        } else if (numResult >= 30 && numResult <= 39) {
                            $(this).addClass('purple');
                        } else if (numResult >= 40 && numResult <= 45) {
                            $(this).addClass('green');
                        } else {
                            $(this).addClass('nonum');
                            $(this).children().children('span').css('background', 'transparent')
                            $(this).children().children('span').css('color', '#fff')
                            $(this).children().children('span').css('font-size', '16px')
                        }
                    });








                });
                Instascan.Camera.getCameras().then(cameras => {
                    if (cameras.length > 0) {
                        scanner.start(cameras[1]);
                    } else {
                        console.error("Please enable Camera!");
                    }
                });

                
            </script>


        </div>
    </div>

    <!-- JS 영역 -->
    <!-- JS 영역 끝-->




    <!-- 푸터 JS -->
    <script src="/js/common.js"></script>
    <!-- 푸터 JS -->
    <!-- 하단 고정 광고 영역 : 도메인이 있어야 함-->
    <div class="ad_bottom_fixed">
        <!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-8117099345271335"
        data-ad-slot="7703964236"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script> -->
    </div>
    <!-- 하단 고정 광고 영역:끝 -->
</body>

</html>